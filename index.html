<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Selira AI - Your Perfect AI Companion Awaits</title>
  <meta name="description" content="Discover thousands of AI characters. Create meaningful connections, explore diverse personalities, and experience immersive conversations." />
  <!-- Social Media Meta -->
  <meta property="og:title" content="Selira AI - Your Perfect AI Companion Awaits" />
  <meta property="og:description" content="Discover thousands of AI characters. Create meaningful connections and explore diverse personalities." />
  <meta property="og:image" content="https://selira.ai/assets/selira-social.jpg" />
  <meta property="og:url" content="https://selira.ai" />
  <meta name="twitter:card" content="summary_large_image" />
  
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Nunito:wght@300;400;500;600;700&display=swap');
    
    :root {
      --bg-primary: #0a0a0a;
      --bg-secondary: #1a1a1a;
      --bg-tertiary: #2a2a2a;
      --text-primary: #ffffff;
      --text-secondary: #b3b3b3;
      --accent: #d4a574;
      --accent-hover: #c19456;
      --accent-secondary: #ec4899;
      --border: #333333;
      --success: #10b981;
      --error: #ef4444;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Nunito', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
      background-color: var(--bg-primary);
      color: var(--text-primary);
      line-height: 1.6;
      overflow-x: hidden;
    }

    /* Header */
    .header {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      background: rgba(10, 10, 10, 0.95);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid var(--border);
      z-index: 1000;
      padding: 16px 32px;
    }

    .nav {
      display: flex;
      justify-content: space-between;
      align-items: center;
      max-width: 1200px;
      margin: 0 auto;
    }

    .logo {
      font-family: 'Playfair Display', serif;
      font-size: 28px;
      font-weight: 700;
      color: var(--accent);
      letter-spacing: -0.5px;
    }

    .nav-menu {
      display: flex;
      gap: 32px;
      align-items: center;
    }

    .nav-link {
      color: var(--text-secondary);
      text-decoration: none;
      font-weight: 500;
      transition: color 0.2s;
    }

    .nav-link:hover {
      color: var(--text-primary);
    }

    .cta-btn {
      background: var(--accent);
      color: white;
      padding: 10px 24px;
      border-radius: 8px;
      text-decoration: none;
      font-weight: 600;
      transition: background 0.2s;
    }

    .cta-btn:hover {
      background: var(--accent-hover);
    }

    /* Hero Section */
    .hero {
      padding: 120px 32px 80px;
      max-width: 1200px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: 1fr 400px;
      gap: 60px;
      align-items: center;
    }

    .hero-content h1 {
      font-family: 'Playfair Display', serif;
      font-size: 52px;
      font-weight: 700;
      line-height: 1.1;
      margin-bottom: 24px;
      letter-spacing: -1px;
    }

    .hero-content .highlight {
      color: var(--accent);
    }

    .hero-content p {
      font-size: 18px;
      color: var(--text-secondary);
      line-height: 1.6;
      margin-bottom: 32px;
    }

    .hero-actions {
      display: flex;
      gap: 16px;
      flex-wrap: wrap;
    }

    .primary-btn {
      background: var(--accent);
      color: white;
      padding: 14px 32px;
      border: none;
      border-radius: 12px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
      text-decoration: none;
      display: inline-block;
    }

    .primary-btn:hover {
      background: var(--accent-hover);
      transform: translateY(-2px);
    }

    .secondary-btn {
      background: transparent;
      color: var(--text-primary);
      padding: 14px 32px;
      border: 2px solid var(--border);
      border-radius: 12px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
      text-decoration: none;
      display: inline-block;
    }

    .secondary-btn:hover {
      border-color: var(--accent);
      color: var(--accent);
    }

    .hero-character {
      position: relative;
    }

    .hero-character img {
      width: 100%;
      height: 500px;
      object-fit: cover;
      border-radius: 20px;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
    }

    .character-carousel {
      display: flex;
      flex-direction: column;
      gap: 15px;
      height: 500px;
      position: relative;
    }

    .carousel-card {
      background: var(--bg-secondary);
      border: 1px solid var(--border);
      border-radius: 16px;
      overflow: hidden;
      transition: all 0.5s ease;
      opacity: 0;
      transform: translateY(20px);
      position: absolute;
      width: 100%;
      height: 100%;
      cursor: pointer;
    }

    .carousel-card.active {
      opacity: 1;
      transform: translateY(0);
      position: relative;
    }

    .carousel-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
      border-color: var(--accent);
    }

    .carousel-image {
      width: 100%;
      height: 240px;
      object-fit: cover;
    }

    .carousel-overlay {
      position: absolute;
      top: 12px;
      right: 12px;
      background: var(--accent);
      color: white;
      padding: 6px 12px;
      border-radius: 12px;
      font-size: 12px;
      font-weight: 600;
    }

    .carousel-info {
      padding: 20px;
    }

    .carousel-name {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 4px;
    }

    .carousel-title {
      color: var(--text-secondary);
      font-size: 14px;
      margin-bottom: 12px;
    }

    .carousel-description {
      color: var(--text-secondary);
      font-size: 14px;
      line-height: 1.4;
      margin-bottom: 16px;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    .carousel-stats {
      display: flex;
      gap: 16px;
      font-size: 12px;
      color: var(--text-secondary);
      margin-bottom: 16px;
    }

    .carousel-actions {
      display: flex;
      gap: 8px;
    }

    .carousel-chat-btn {
      flex: 1;
      background: var(--accent);
      color: white;
      border: none;
      padding: 10px 16px;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      transition: background 0.2s;
      text-decoration: none;
      text-align: center;
    }

    .carousel-chat-btn:hover {
      background: var(--accent-hover);
    }

    .carousel-heart-btn {
      background: var(--bg-tertiary);
      border: 1px solid var(--border);
      color: var(--text-secondary);
      padding: 10px 12px;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.2s;
    }

    .carousel-heart-btn:hover {
      color: var(--error);
      border-color: var(--error);
    }

    .character-badge {
      position: absolute;
      top: 20px;
      left: 20px;
      background: rgba(10, 10, 10, 0.8);
      backdrop-filter: blur(10px);
      padding: 8px 16px;
      border-radius: 20px;
      font-size: 14px;
      font-weight: 600;
    }

    /* Section */
    .section {
      padding: 80px 32px;
      max-width: 1200px;
      margin: 0 auto;
    }

    .section-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 40px;
    }

    .section-title {
      font-family: 'Playfair Display', serif;
      font-size: 36px;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 12px;
      letter-spacing: -0.5px;
    }

    .section-icon {
      font-size: 32px;
    }

    .see-more {
      color: var(--accent);
      text-decoration: none;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 8px;
      transition: opacity 0.2s;
    }

    .see-more:hover {
      opacity: 0.8;
    }

    /* Character Grid */
    .characters-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 24px;
    }

    .character-card {
      background: var(--bg-secondary);
      border: 1px solid var(--border);
      border-radius: 16px;
      overflow: hidden;
      transition: all 0.3s ease;
      cursor: pointer;
      position: relative;
    }

    .character-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
      border-color: var(--accent);
    }

    .character-image {
      width: 100%;
      height: 240px;
      object-fit: cover;
    }

    .character-placeholder {
      background: var(--bg-tertiary);
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--text-secondary);
      font-size: 48px;
      font-weight: 600;
    }

    .character-overlay {
      position: absolute;
      top: 12px;
      right: 12px;
      background: var(--accent);
      color: white;
      padding: 6px 12px;
      border-radius: 12px;
      font-size: 12px;
      font-weight: 600;
    }

    .character-info {
      padding: 20px;
    }

    .character-name {
      font-family: 'Playfair Display', serif;
      font-size: 20px;
      font-weight: 600;
      margin-bottom: 4px;
      letter-spacing: -0.3px;
    }

    .character-title {
      color: var(--text-secondary);
      font-size: 14px;
      margin-bottom: 12px;
    }

    .character-description {
      color: var(--text-secondary);
      font-size: 14px;
      line-height: 1.4;
      margin-bottom: 16px;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    .character-stats {
      display: flex;
      gap: 16px;
      font-size: 12px;
      color: var(--text-secondary);
      margin-bottom: 16px;
    }

    .character-actions {
      display: flex;
      gap: 8px;
    }

    .chat-btn {
      flex: 1;
      background: var(--accent);
      color: white;
      border: none;
      padding: 10px 16px;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      transition: background 0.2s;
    }

    .chat-btn:hover {
      background: var(--accent-hover);
    }

    .heart-btn {
      background: var(--bg-tertiary);
      border: 1px solid var(--border);
      color: var(--text-secondary);
      padding: 10px 12px;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.2s;
    }

    .heart-btn:hover {
      color: var(--error);
      border-color: var(--error);
    }

    /* Skeleton Loading */
    .character-skeleton {
      background: var(--bg-secondary);
      border: 1px solid var(--border);
      border-radius: 16px;
      overflow: hidden;
      animation: pulse 2s ease-in-out infinite;
    }

    .character-skeleton::after {
      content: '';
      display: block;
      height: 350px;
      background: linear-gradient(90deg, 
        var(--bg-secondary) 0%, 
        var(--bg-tertiary) 50%, 
        var(--bg-secondary) 100%
      );
      background-size: 200% 100%;
      animation: shimmer 1.5s ease-in-out infinite;
    }

    @keyframes pulse {
      0%, 100% { opacity: 0.8; }
      50% { opacity: 0.6; }
    }

    @keyframes shimmer {
      0% { background-position: -200% 0; }
      100% { background-position: 200% 0; }
    }

    /* Testimonials */
    .testimonials {
      background: var(--bg-secondary);
      border-radius: 20px;
      padding: 60px 40px;
      margin: 80px 0;
    }

    .testimonials-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 32px;
    }

    .testimonial-card {
      background: var(--bg-primary);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 24px;
    }

    .stars {
      color: #fbbf24;
      font-size: 18px;
      margin-bottom: 16px;
    }

    .testimonial-text {
      font-style: italic;
      margin-bottom: 16px;
      line-height: 1.6;
    }

    .testimonial-author {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .author-avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: var(--accent);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
    }

    .author-info h4 {
      font-weight: 600;
      margin-bottom: 2px;
    }

    .author-info p {
      font-size: 14px;
      color: var(--text-secondary);
    }

    /* Footer */
    .footer {
      border-top: 1px solid var(--border);
      padding: 60px 32px 40px;
      margin-top: 80px;
    }

    .footer-content {
      max-width: 1200px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 40px;
    }

    .footer-section h3 {
      margin-bottom: 16px;
      color: var(--text-primary);
    }

    .footer-section a {
      display: block;
      color: var(--text-secondary);
      text-decoration: none;
      padding: 4px 0;
      transition: color 0.2s;
    }

    .footer-section a:hover {
      color: var(--accent);
    }

    .footer-bottom {
      max-width: 1200px;
      margin: 40px auto 0;
      padding-top: 20px;
      border-top: 1px solid var(--border);
      text-align: center;
      color: var(--text-secondary);
    }

    /* Mobile Menu */
    .mobile-menu {
      display: none;
      position: absolute;
      top: 100%;
      left: 0;
      right: 0;
      background: var(--bg-secondary);
      border-bottom: 1px solid var(--border);
      padding: 20px;
    }

    .mobile-menu.open {
      display: block;
    }

    .mobile-menu a {
      display: block;
      padding: 12px 0;
      color: var(--text-secondary);
      text-decoration: none;
      font-weight: 500;
      border-bottom: 1px solid var(--border);
    }

    .mobile-menu a:last-child {
      border-bottom: none;
    }

    .mobile-menu a:hover {
      color: var(--accent);
    }

    .hamburger {
      display: none;
      background: none;
      border: none;
      color: var(--text-primary);
      font-size: 24px;
      cursor: pointer;
    }

    /* Mobile Responsive */
    @media (max-width: 768px) {
      .header {
        padding: 16px 20px;
        position: relative;
      }

      .nav-menu {
        display: none;
      }

      .hamburger {
        display: block;
      }

      .hero {
        grid-template-columns: 1fr;
        padding: 80px 20px 60px;
        gap: 30px;
        text-align: center;
      }

      .hero-content h1 {
        font-size: 32px;
        line-height: 1.2;
      }

      .hero-character {
        order: 1;
      }

      .hero-character img {
        height: 300px;
      }

      .hero-actions {
        flex-direction: column;
        align-items: center;
      }

      .primary-btn, .secondary-btn {
        width: 100%;
        max-width: 280px;
        text-align: center;
      }

      .section {
        padding: 40px 20px;
      }

      .section-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 12px;
      }

      .section-title {
        font-size: 24px;
      }

      .characters-grid {
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 16px;
      }

      .testimonials {
        padding: 40px 20px;
        margin: 60px 0;
      }

      .testimonials-grid {
        grid-template-columns: 1fr;
        gap: 20px;
      }

      .footer-content {
        grid-template-columns: repeat(2, 1fr);
        gap: 30px;
      }
    }

    @media (max-width: 480px) {
      .hero-content h1 {
        font-size: 28px;
      }

      .hero-character img {
        height: 250px;
      }

      .characters-grid {
        grid-template-columns: 1fr;
      }

      .footer-content {
        grid-template-columns: 1fr;
      }
  </style>
  
  <!-- Auth0 Authentication System -->
  <script src="/js/auth0-login.js"></script>
</head>
<body>
  <!-- Header -->
  <header class="header">
    <nav class="nav">
      <a href="/" class="logo" aria-label="Selira AI Home">Selira AI</a>
      <div class="nav-menu">
        <a href="/category.html" class="nav-link">Discover</a>
        <a href="/create-character.html" class="nav-link">Create</a>
        <a href="/pricing.html" class="nav-link">Pricing</a>
        <a href="#" class="nav-link login-btn" onclick="openLoginModal('login'); return false;">Login</a>
        <a href="#" class="nav-link signup-btn" onclick="openLoginModal('signup'); return false;">Sign Up</a>
        <a href="/chat.html" class="cta-btn">Start Chatting</a>
      </div>
      <button class="hamburger" onclick="toggleMobileMenu()">☰</button>
    </nav>
    <div class="mobile-menu" id="mobileMenu">
      <a href="/category.html">Discover</a>
      <a href="/create-character.html">Create</a>
      <a href="/pricing.html">Pricing</a>
      <a href="#" class="mobile-login-link" onclick="openLoginModal('login'); return false;">🔑 Login</a>
      <a href="#" class="mobile-signup-link" onclick="openLoginModal('signup'); return false;">✨ Sign Up</a>
      <a href="/chat.html" class="cta-btn">Start Chatting</a>
    </div>
  </header>

  <!-- Hero Section -->
  <section class="hero">
    <div class="hero-content">
      <h1>Craft Your Perfect <span class="highlight">AI Companion</span></h1>
      <p>Discover thousands of unique AI characters or create your own. Engage in meaningful conversations, explore diverse personalities, and experience immersive storytelling like never before.</p>
      <div class="hero-actions">
        <a href="/category.html" class="primary-btn">Start Free →</a>
        <a href="#discover" class="secondary-btn">Discover More</a>
      </div>
    </div>
    <div class="hero-character">
      <div class="character-carousel" id="characterCarousel">
        <!-- Characters will be loaded here -->
      </div>
    </div>
  </section>

  <!-- Fantasy Section -->
  <section class="section" id="discover">
    <div class="section-header">
      <h2 class="section-title">
        <span class="section-icon">🏰</span>
        Discover Your Dream Fantasy
      </h2>
      <a href="/category.html?filter=Fantasy" class="see-more">See More →</a>
    </div>
    <div class="characters-grid" id="fantasyGrid">
      <div class="character-skeleton"></div>
      <div class="character-skeleton"></div>
      <div class="character-skeleton"></div>
    </div>
  </section>

  <!-- Anime-Manga Section -->
  <section class="section">
    <div class="section-header">
      <h2 class="section-title">
        <span class="section-icon">🎌</span>
        Anime & Manga Companions
      </h2>
      <a href="/category.html?filter=Anime-Manga" class="see-more">See More →</a>
    </div>
    <div class="characters-grid" id="animeGrid">
      <div class="character-skeleton"></div>
      <div class="character-skeleton"></div>
      <div class="character-skeleton"></div>
    </div>
  </section>

  <!-- Historical Section -->
  <section class="section">
    <div class="section-header">
      <h2 class="section-title">
        <span class="section-icon">📜</span>
        Historical Figures & Legends
      </h2>
      <a href="/category.html?filter=Historical" class="see-more">See More →</a>
    </div>
    <div class="characters-grid" id="historicalGrid">
      <div class="character-skeleton"></div>
      <div class="character-skeleton"></div>
      <div class="character-skeleton"></div>
    </div>
  </section>

  <!-- Generate Section -->
  <section class="section">
    <div class="section-header">
      <h2 class="section-title">
        <span class="section-icon">🎨</span>
        Generate AI Images
      </h2>
      <a href="/create-character.html" class="see-more">Get Started →</a>
    </div>
    <div style="text-align: center; padding: 40px; background: var(--bg-secondary); border-radius: 20px;">
      <h3 style="margin-bottom: 16px;">Create Beautiful AI Characters</h3>
      <p style="color: var(--text-secondary); margin-bottom: 24px;">Ultimate Realistic Anime Female Character, Perfect Waifu</p>
      <div style="display: flex; justify-content: center; gap: 20px; margin-bottom: 24px;">
        <img src="/avatars/ai-girl-1.jpg" alt="AI Character 1" style="width: 120px; height: 150px; object-fit: cover; border-radius: 12px;" onerror="this.style.display='none'">
        <img src="/avatars/ai-girl-2.jpg" alt="AI Character 2" style="width: 120px; height: 150px; object-fit: cover; border-radius: 12px;" onerror="this.style.display='none'">
        <img src="/avatars/ai-girl-3.jpg" alt="AI Character 3" style="width: 120px; height: 150px; object-fit: cover; border-radius: 12px;" onerror="this.style.display='none'">
      </div>
      <a href="/create-character.html" class="primary-btn">Generate Now</a>
    </div>
  </section>

  <!-- Testimonials -->
  <section class="testimonials">
    <div class="section-header">
      <h2 class="section-title">Featured Testimonials</h2>
    </div>
    <div class="testimonials-grid">
      <div class="testimonial-card">
        <div class="stars">★★★★★</div>
        <p class="testimonial-text">"Selira AI has revolutionized how I experience AI conversations. The characters feel incredibly lifelike and engaging. It's like having access to thousands of unique personalities at your fingertips."</p>
        <div class="testimonial-author">
          <div class="author-avatar">A</div>
          <div class="author-info">
            <h4>Alex Johnson</h4>
            <p>AI Enthusiast</p>
          </div>
        </div>
      </div>
      
      <div class="testimonial-card">
        <div class="stars">★★★★★</div>
        <p class="testimonial-text">"The variety and depth of characters is amazing. Each conversation feels natural and meaningful. Selira AI has definitely set a new standard for AI character platforms."</p>
        <div class="testimonial-author">
          <div class="author-avatar">S</div>
          <div class="author-info">
            <h4>Sarah Chen</h4>
            <p>Content Creator</p>
          </div>
        </div>
      </div>
      
      <div class="testimonial-card">
        <div class="stars">★★★★★</div>
        <p class="testimonial-text">"As a writer, I love using Selira AI for character development and storytelling inspiration. The AI responses are creative and help spark new ideas for my projects."</p>
        <div class="testimonial-author">
          <div class="author-avatar">M</div>
          <div class="author-info">
            <h4>Michael Rodriguez</h4>
            <p>Writer & Creator</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer-content">
      <div class="footer-section">
        <h3>Selira</h3>
        <a href="/">Home</a>
        <a href="/category.html">Characters</a>
        <a href="/create-character.html">Create</a>
        <a href="/pricing.html">Pricing</a>
      </div>
      
      <div class="footer-section">
        <h3>Features</h3>
        <a href="/category.html">Browse Characters</a>
        <a href="/create-character.html">AI Character Creator</a>
        <a href="/chat.html">Chat Experience</a>
        <a href="/profile.html">User Profiles</a>
      </div>
      
      <div class="footer-section">
        <h3>Trending</h3>
        <a href="/category.html?filter=Anime">Anime Characters</a>
        <a href="/category.html?filter=Fantasy">Fantasy Worlds</a>
        <a href="/category.html?filter=Sci-Fi">Sci-Fi Adventures</a>
        <a href="/category.html?filter=Historical">Historical Figures</a>
      </div>
      
      <div class="footer-section">
        <h3>Legal</h3>
        <a href="/terms-and-conditions.html">Terms of Use</a>
        <a href="/privacy-policy.html">Privacy Policy</a>
        <a href="/contact.html">Contact Us</a>
      </div>
      
      <div class="footer-section">
        <h3>Company</h3>
        <a href="/contact.html">About Us</a>
        <a href="/contact.html">Support</a>
        <a href="/contact.html">Contact</a>
      </div>
    </div>
    
    <div class="footer-bottom">
      <p>&copy; 2024 Selira AI. All rights reserved.</p>
    </div>
  </footer>

  <!-- Scripts -->
  <script>
    let allCharacters = [];

    // Initialize page
    document.addEventListener('DOMContentLoaded', function() {
      loadCharacters();
    });

    // Load characters from Airtable
    async function loadCharacters() {
      try {
        const response = await fetch('/.netlify/functions/characters');
        if (!response.ok) throw new Error('Failed to load characters');
        
        const data = await response.json();
        allCharacters = data.characters || [];
        console.log('✅ Loaded characters:', allCharacters.length);
        console.log('📂 Available categories:', [...new Set(allCharacters.map(c => c.Category))]);
        
        renderSectionCharacters();
      } catch (error) {
        console.error('❌ Error loading characters:', error);
        // Use mock data as fallback until environment variables are set
        allCharacters = getMockCharacters();
        renderSectionCharacters();
      }
    }

    // Mock characters for demo purposes
    function getMockCharacters() {
      return [
        {
          Name: 'Aria the Sorceress',
          Character_Title: 'Mystical Mage',
          Character_Description: 'A powerful sorceress from the enchanted realm, master of ancient magic.',
          Category: 'Fantasy',
          Slug: 'aria-sorceress'
        },
        {
          Name: 'Sir Galahad',
          Character_Title: 'Knight of the Round Table',
          Character_Description: 'Noble knight seeking the Holy Grail with unwavering courage.',
          Category: 'Fantasy',
          Slug: 'sir-galahad'
        },
        {
          Name: 'Sakura',
          Character_Title: 'Anime Princess',
          Character_Description: 'A cheerful anime character with magical powers and a kind heart.',
          Category: 'Anime-Manga',
          Slug: 'sakura'
        },
        {
          Name: 'Naruto',
          Character_Title: 'Ninja Hero',
          Character_Description: 'Energetic ninja with dreams of becoming the strongest leader.',
          Category: 'Anime-Manga',
          Slug: 'naruto'
        },
        {
          Name: 'Cleopatra',
          Character_Title: 'Queen of Egypt',
          Character_Description: 'The legendary pharaoh known for her intelligence and charisma.',
          Category: 'Historical',
          Slug: 'cleopatra'
        },
        {
          Name: 'Leonardo da Vinci',
          Character_Title: 'Renaissance Master',
          Character_Description: 'Brilliant inventor, artist, and philosopher of the Renaissance.',
          Category: 'Historical',
          Slug: 'leonardo'
        }
      ];
    }

    // Render characters in different sections
    function renderSectionCharacters() {
      if (allCharacters.length === 0) return;

      // Fantasy Section
      const fantasyCharacters = allCharacters
        .filter(char => char.Category && char.Category.toLowerCase() === 'fantasy')
        .slice(0, 3);
      renderCharacterGrid('fantasyGrid', fantasyCharacters);

      // Anime-Manga Section  
      const animeCharacters = allCharacters
        .filter(char => char.Category && char.Category.toLowerCase() === 'anime-manga')
        .slice(0, 3);
      renderCharacterGrid('animeGrid', animeCharacters);

      // Historical Section
      const historicalCharacters = allCharacters
        .filter(char => char.Category && char.Category.toLowerCase() === 'historical')
        .slice(0, 3);
      renderCharacterGrid('historicalGrid', historicalCharacters);
    }

    // Render character grid for a specific section
    function renderCharacterGrid(gridId, characters) {
      const grid = document.getElementById(gridId);
      if (!grid) return;
      
      // If no characters, show empty state
      if (characters.length === 0) {
        grid.innerHTML = '<p style="text-align: center; color: var(--text-secondary); padding: 40px;">No characters available in this category</p>';
        return;
      }

      // Use requestAnimationFrame to prevent flickering
      requestAnimationFrame(() => {
        grid.innerHTML = characters.map(character => `
        <div class="character-card" onclick="startChat('${character.Slug || character.Name}')">
          ${character.Avatar_URL ? 
            `<img 
              src="${character.Avatar_URL}" 
              alt="${character.Name}"
              class="character-image"
              onerror="this.style.display='none';"
            >` : 
            `<div class="character-image character-placeholder">
              <span>${character.Name ? character.Name.charAt(0).toUpperCase() : '?'}</span>
            </div>`
          }
          <div class="character-overlay">${character.Category || 'New'}</div>
          <div class="character-info">
            <h3 class="character-name">${character.Name || 'Unknown'}</h3>
            <p class="character-title">${character.Character_Title || ''}</p>
            <p class="character-description">${character.Character_Description || 'No description available'}</p>
            <div class="character-stats">
              <span>👥 ${Math.floor(Math.random() * 1000) + 100} chats</span>
              <span>⭐ ${(Math.random() * 2 + 3).toFixed(1)}</span>
            </div>
            <div class="character-actions">
              <button class="chat-btn" onclick="event.stopPropagation(); startChat('${character.Slug || character.Name}')">
                💬 Chat
              </button>
              <button class="heart-btn" onclick="event.stopPropagation(); toggleFavorite('${character.Slug || character.Name}')">
                ❤️
              </button>
            </div>
          </div>
        </div>
      `).join('');
      });
    }

    // Start chat with character
    function startChat(characterSlug) {
      if (!characterSlug) return;
      
      // Check authentication
      const user = JSON.parse(localStorage.getItem('user') || '{}');
      if (!user.email) {
        // Redirect to login
        window.location.href = '/profile.html?redirect=' + encodeURIComponent('/chat.html?character=' + characterSlug);
        return;
      }

      // Navigate to chat
      window.location.href = `/chat.html?character=${encodeURIComponent(characterSlug)}`;
    }

    // Toggle favorite
    function toggleFavorite(characterSlug) {
      // Implementation for favorites system
      console.log('Toggle favorite:', characterSlug);
      // You can implement this later with user preferences
    }

    // Mobile menu toggle
    function toggleMobileMenu() {
      const mobileMenu = document.getElementById('mobileMenu');
      mobileMenu.classList.toggle('open');
    }

    // Close mobile menu when clicking outside
    document.addEventListener('click', function(event) {
      const mobileMenu = document.getElementById('mobileMenu');
      const hamburger = document.querySelector('.hamburger');
      
      if (!mobileMenu.contains(event.target) && !hamburger.contains(event.target)) {
        mobileMenu.classList.remove('open');
      }
    });

    // Smooth scrolling for anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          target.scrollIntoView({
            behavior: 'smooth',
            block: 'start'
          });
        }
      });
    });

    // Debug character loading
    async function debugCharacterLoading() {
      try {
        console.log('🔍 Testing character API...');
        const response = await fetch('/.netlify/functions/characters');
        console.log('📊 API Response status:', response.status);
        
        if (response.ok) {
          const data = await response.json();
          console.log('📦 API Data summary:', { total: data.total, returned: data.returned });
          console.log('👥 Total characters loaded:', data.characters?.length || 0);
          
          // Log categories
          const categories = [...new Set(data.characters?.map(char => char.Category).filter(Boolean))];
          console.log('🏷️ Available categories:', categories);
        } else {
          console.error('❌ API Error:', await response.text());
        }
      } catch (error) {
        console.error('💥 Debug error:', error);
      }
    }

    // Auto-run debug on load (remove later)
    document.addEventListener('DOMContentLoaded', debugCharacterLoading);

    // Featured characters carousel with Fantasy, Historical, and Anime-Manga characters
    const featuredCharacters = [
      {
        name: 'Aragorn',
        role: 'Ranger King',
        avatar: 'https://selira.ai/avatars/aragorn-1750067445.webp?v=1750067445',
        slug: 'aragorn',
        description: 'Noble ranger and rightful king. Join him on epic adventures through Middle-earth.',
        stats: '127K'
      },
      {
        name: 'Albert Einstein',
        role: 'Physicist', 
        avatar: 'https://selira.ai/avatars/albert-einstein-1750067386.webp?v=1750067386',
        slug: 'albert-einstein',
        description: 'Brilliant physicist who revolutionized our understanding of space and time.',
        stats: '89K'
      },
      {
        name: 'Naruto Uzumaki',
        role: 'Hokage Ninja',
        avatar: 'https://selira.ai/avatars/naruto-uzumaki-1750068388.webp?v=1750068388',
        slug: 'naruto-uzumaki',
        description: 'Energetic ninja with dreams of becoming Hokage. Believe it!',
        stats: '234K'
      },
      {
        name: 'Harry Potter',
        role: 'The Boy Who Lived',
        avatar: 'https://selira.ai/avatars/harry-potter-1750067058.webp?v=1750067058',
        slug: 'harry-potter',
        description: 'Young wizard who survived the killing curse. Ready for magical adventures.',
        stats: '178K'
      },
      {
        name: 'Nelson Mandela',
        role: 'Former President',
        avatar: 'https://selira.ai/avatars/mandela-1752237226.webp?v=1752237226',
        slug: 'nelson-mandela',
        description: 'Inspiring leader who fought against apartheid and promoted reconciliation.',
        stats: '67K'
      },
      {
        name: 'Luffy',
        role: 'Pirate King',
        avatar: 'https://selira.ai/avatars/luffy-1750067585.webp?v=1750067585',
        slug: 'monkey-d-luffy',
        description: 'Rubber-powered pirate captain on a quest to find the One Piece treasure.',
        stats: '156K'
      }
    ];

    let currentCharacterIndex = 0;
    
    function initializeCharacterCarousel() {
      const carousel = document.getElementById('characterCarousel');
      if (!carousel) return;
      
      // Create character cards
      carousel.innerHTML = featuredCharacters.map((character, index) => `
        <div class="carousel-card ${index === 0 ? 'active' : ''}" data-index="${index}">
          <img 
            src="${character.avatar}" 
            alt="${character.name}"
            class="carousel-image"
            loading="lazy"
          >
          <div class="carousel-overlay">${character.role}</div>
          <div class="carousel-info">
            <h3 class="carousel-name">${character.name}</h3>
            <p class="carousel-title">${character.role}</p>
            <p class="carousel-description">${character.description}</p>
            <div class="carousel-stats">
              <span>👥 ${character.stats} chats</span>
              <span>⭐ ${(Math.random() * 2 + 3).toFixed(1)}</span>
            </div>
            <div class="carousel-actions">
              <a href="/chat?char=${character.slug}" class="carousel-chat-btn">
                💬 Chat
              </a>
              <button class="carousel-heart-btn">
                ❤️
              </button>
            </div>
          </div>
        </div>
      `).join('');
    }
    
    function rotateCharacterCarousel() {
      const cards = document.querySelectorAll('.carousel-card');
      if (cards.length === 0) return;
      
      // Hide current card
      cards[currentCharacterIndex].classList.remove('active');
      
      // Move to next character
      currentCharacterIndex = (currentCharacterIndex + 1) % featuredCharacters.length;
      
      // Show next card
      cards[currentCharacterIndex].classList.add('active');
      
      console.log('🔄 Rotated to character:', featuredCharacters[currentCharacterIndex].name);
    }
    
    // Initialize character carousel when DOM is ready
    document.addEventListener('DOMContentLoaded', function() {
      initializeCharacterCarousel();
      
      // Start rotating after 2 seconds
      setTimeout(() => {
        setInterval(rotateCharacterCarousel, 4000);
      }, 2000);
    });
  </script>
</body>
</html>